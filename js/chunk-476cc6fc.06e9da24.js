(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-476cc6fc"],{"2e96":function(t,e,n){"use strict";n.r(e);n("b0c0");var r=n("7a23"),c=Object(r["gb"])("data-v-47148700");Object(r["I"])("data-v-47148700");var a={class:"container mx-auto"},o={class:"py-4"},s={class:"border shadow  p-3 mb-3 mx-auto"},i=Object(r["n"])("h3",{class:"text-start"},"購物明細",-1),u={class:""},d={class:"col-8"},l={class:"col-4 text-end"},b={class:"row fs-6 py-3 border-top"},f=Object(r["n"])("p",{class:"col-8"},"訂單編號:",-1),p={class:"col-4 text-end"},j=Object(r["n"])("p",{class:"col-8"},"訂單狀態:",-1),O={class:"col-4 rounded lead text-white px-3 fs-6 bg-gray-800"},v={class:"d-flex border-top justify-content-end"},g={class:" text-black text-nowrap"},h=Object(r["m"])(" 合計 : $ "),m={class:"font-weight-bold display-4"},x={class:"user_info bg-light-yellow p-4"},y={class:"d-flex align-items-center justify-content-between mb-3 pb-3"},w=Object(r["n"])("h5",{class:"text-gray-800 fs-5 pe-2 text-nowrap"},"訂購人",-1),N={class:"text-end  fs-5"},I={class:"d-flex align-items-center justify-content-between mb-3 pb-3"},_=Object(r["n"])("h5",{class:"text-gray-800 fs-5 pe-2 text-nowrap"},"電話",-1),E={class:"text-end fs-5"},S={class:"d-flex align-items-center justify-content-between mb-3 pb-3 "},q=Object(r["n"])("h5",{class:"text-gray-800 fs-5 pe-2 text-nowrap"},"地址",-1),A={class:"text-end fs-5"},F={class:"d-flex align-items-center justify-content-between mb-3 pb-3"},Q=Object(r["n"])("h5",{class:"text-gray-800 fs-5 pe-2 text-nowrap"},"信箱",-1),k={class:"text-end fs-5"},M={class:"d-flex align-items-center justify-content-between mb-3 pb-3"},C=Object(r["n"])("h5",{class:"text-gray-800 fs-5 pe-2 text-nowrap"},"備註:",-1),T={class:"text-end fs-5"};Object(r["G"])();var G=c((function(t,e,n,c,G,L){var D=Object(r["N"])("Steps");return Object(r["F"])(),Object(r["j"])(r["b"],null,[Object(r["n"])("div",a,[Object(r["n"])(D,{step:1}),Object(r["n"])("div",o,[Object(r["n"])("div",s,[i,Object(r["n"])("ul",u,[(Object(r["F"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(c.order.products,(function(e){return Object(r["F"])(),Object(r["j"])("li",{class:["row fs-6 pb-3",{"alert-secondary":t.i%2==0}],key:e.id},[Object(r["n"])("p",d,Object(r["Q"])(e.product.title)+" x "+Object(r["Q"])(e.qty)+" "+Object(r["Q"])(e.product.unit),1),Object(r["n"])("span",l," $ "+Object(r["Q"])(Math.floor(e.final_total)),1)],2)})),128))]),Object(r["n"])("div",b,[f,Object(r["n"])("span",p,Object(r["Q"])(c.order.id),1),j,Object(r["n"])("span",O,Object(r["Q"])(c.order.is_paid?"已付款":"未付款"),1)]),Object(r["n"])("div",v,[Object(r["n"])("p",g,[h,Object(r["n"])("span",m,Object(r["Q"])(Math.floor(c.order.total)),1)])])]),Object(r["n"])("div",x,[Object(r["n"])("div",y,[w,Object(r["n"])("p",N,Object(r["Q"])(c.order.user.name),1)]),Object(r["n"])("div",I,[_,Object(r["n"])("p",E,Object(r["Q"])(c.order.user.tel),1)]),Object(r["n"])("div",S,[q,Object(r["n"])("p",A,Object(r["Q"])(c.order.user.address),1)]),Object(r["n"])("div",F,[Q,Object(r["n"])("p",k,Object(r["Q"])(c.order.user.email),1)]),Object(r["n"])("div",M,[C,Object(r["n"])("p",T,Object(r["Q"])(c.order.message||"無"),1)])])])]),Object(r["n"])("button",{disabled:c.order.is_paid,type:"button",class:"btn btn-primary mt-4",onClick:e[1]||(e[1]=function(){return c.payNow&&c.payNow.apply(c,arguments)})}," 確認付款 ",8,["disabled"])],64)})),L=(n("ac1f"),n("5319"),n("6c02")),D=n("5502"),J=n("e16f"),R=n("df79"),V=n("f195"),P=n("66de"),U={name:"CheckoutOrder",components:{Steps:P["a"]},setup:function(){var t=Object(L["c"])(),e=Object(D["b"])(),n=Object(L["d"])(),c=Object(r["K"])("");Object(r["C"])((function(){c.value=t.query.orderID,o()}));var a=Object(r["J"])({user:{},id:"",is_paid:!1,create_at:"",total:0}),o=function(){Object(J["c"])(c.value).then((function(t){if(t){var e=t.data;Object.assign(a,e.order)}}))},s=function(){e.commit("SET_LOADING",!0),Object(J["b"])(c.value).then((function(t){e.commit("SET_LOADING",!1),t&&(V["a"].emit("product-cart"),n.replace({name:"PaymentComplete"}))}))};return{payNow:s,order:a,dateFormmater:R["a"]}}},Y=(n("b12b"),n("d959")),$=n.n(Y);const K=$()(U,[["render",G],["__scopeId","data-v-47148700"]]);e["default"]=K},"3e8d":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),c=n("5899"),a="["+c+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),i=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:i(1),end:i(2),trim:i(3)}},"66de":function(t,e,n){"use strict";var r=n("7a23");function c(t,e,n,c,a,o){var s=Object(r["N"])("a-step"),i=Object(r["N"])("a-steps");return Object(r["F"])(),Object(r["j"])(i,{current:c.current,"onUpdate:current":e[1]||(e[1]=function(t){return c.current=t}),type:"navigation",style:c.stepStyle},{default:Object(r["db"])((function(){return[Object(r["n"])(s,{title:"填寫訂購人資訊",disabled:""}),Object(r["n"])(s,{title:"確認訂單",disabled:""}),Object(r["n"])(s,{title:"完成訂購",disabled:""})]})),_:1},8,["current","style"])}n("a9e3");var a={name:"Skeleton",props:{step:{type:Number,require:!0}},setup:function(t){var e=Object(r["K"])(0),n=Object(r["J"])({marginBottom:"60px",boxShadow:"0px -1px 0 0 #e8e8e8 inset"});return Object(r["C"])((function(){e.value=t.step})),{current:e,stepStyle:n}}},o=n("d959"),s=n.n(o);const i=s()(a,[["render",c]]);e["a"]=i},7156:function(t,e,n){var r=n("861d"),c=n("d2bb");t.exports=function(t,e,n){var a,o;return c&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&c(t,o),t}},a15b:function(t,e,n){"use strict";var r=n("23e7"),c=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,i=c!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:i||!u},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),c=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),i=n("c6b6"),u=n("7156"),d=n("c04e"),l=n("d039"),b=n("7c73"),f=n("241c").f,p=n("06cf").f,j=n("9bf2").f,O=n("58a8").trim,v="Number",g=c[v],h=g.prototype,m=i(b(h))==v,x=function(t){var e,n,r,c,a,o,s,i,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=O(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,c=49;break;case 79:case 111:r=8,c=55;break;default:return+u}for(a=u.slice(2),o=a.length,s=0;s<o;s++)if(i=a.charCodeAt(s),i<48||i>c)return NaN;return parseInt(a,r)}return+u};if(a(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(m?l((function(){h.valueOf.call(n)})):i(n)!=v)?u(new g(x(e)),n,w):x(e)},N=r?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;N.length>I;I++)s(g,y=N[I])&&!s(w,y)&&j(w,y,p(g,y));w.prototype=h,h.constructor=w,o(c,v,w)}},b12b:function(t,e,n){"use strict";n("3e8d")},df79:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));n("a15b");function r(t){return Math.floor(Math.random()*t)}function c(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,c=e.getDate();return[n,r,c].join("-")}},e16f:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"k",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"j",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return j}));n("99af");var r=n("7804"),c="tp27933";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"get",url:"api/".concat(e,"/products/all")})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"get",url:"api/".concat(e,"/products"),params:{page:t}})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"get",url:"api/".concat(e,"/product/").concat(t)})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"post",url:"api/".concat(e,"/cart"),data:{data:t},self_loading:!0})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"put",url:"api/".concat(e,"/cart/").concat(t.product_id),data:{data:t}})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return r["a"].request({method:"get",url:"api/".concat(t,"/cart")})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"delete",url:"api/".concat(e,"/cart/").concat(t)})}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return r["a"].request({method:"delete",url:"api/".concat(t,"/carts")})}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"post",url:"api/".concat(e,"/order"),data:{data:t}})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"get",url:"api/".concat(e,"/order/").concat(t)})}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return r["a"].request({method:"post",url:"api/".concat(e,"/pay/").concat(t)})}},f195:function(t,e,n){"use strict";var r=function(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}};e["a"]=r()}}]);
//# sourceMappingURL=chunk-476cc6fc.06e9da24.js.map