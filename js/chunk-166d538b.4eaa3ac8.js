(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-166d538b"],{2532:function(t,e,n){"use strict";var c=n("23e7"),a=n("5a34"),r=n("1d80"),o=n("ab13");c({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(r(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"26f2":function(t,e,n){"use strict";n("acf3")},"44e7":function(t,e,n){var c=n("861d"),a=n("c6b6"),r=n("b622"),o=r("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},"5a34":function(t,e,n){var c=n("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"857a":function(t,e,n){var c=n("1d80"),a=/"/g;t.exports=function(t,e,n,r){var o=String(c(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),i+">"+o+"</"+e+">"}},8966:function(t,e,n){t.exports=n.p+"img/banner2.3bcf696a.jpg"},9784:function(t,e,n){},9911:function(t,e,n){"use strict";var c=n("23e7"),a=n("857a"),r=n("af03");c({target:"String",proto:!0,forced:r("link")},{link:function(t){return a(this,"a","href",t)}})},a0e5:function(t,e,n){t.exports=n.p+"img/banner3.7da114e4.jpg"},aaed:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("9911"),n("caad"),n("2532");var c=n("7a23"),a=Object(c["gb"])("data-v-09530765");Object(c["I"])("data-v-09530765");var r=Object(c["n"])("div",{id:"fb-root",page_id:"106869698357930"},null,-1),o=Object(c["n"])("div",{id:"fb-customer-chat",class:"fb-customerchat",page_id:"106869698357930"},null,-1),i={class:"navbar navbar-expand-md navbar-dark bg-dark sticky-top"},u={class:"container-fluid"},s=Object(c["m"])(" 千喜年售票 "),l={class:"navbar-toggler",type:"button",ref:"trigger","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},b=Object(c["n"])("span",{class:"navbar-toggler-icon"},null,-1),d={class:"navbar-collapse justify-content-end collapse",id:"navbarSupportedContent"},p={class:"navbar-nav mb-2 mb-lg-0"},f={class:"badge bg-secondary"},j={class:"view pb-4 min-100"},v=Object(c["n"])("footer",{class:"text-white bg-dark px-5",style:{height:"4rem"}},[Object(c["n"])("hr",{class:"bg-white"}),Object(c["n"])("p",{class:"text-center"}," ⓒ 2021 All Right Reserved . ｜僅個人作品練習，無商業用途 ")],-1);Object(c["G"])();var O=a((function(t,e,n,O,m,g){var h=Object(c["N"])("router-link"),y=Object(c["N"])("font-awesome-icon"),k=Object(c["N"])("SideBar"),x=Object(c["N"])("MainBanner"),w=Object(c["N"])("router-view");return Object(c["F"])(),Object(c["j"])(c["b"],null,[r,o,Object(c["n"])("nav",i,[Object(c["n"])("div",u,[Object(c["n"])(h,{to:"/shopping/home",class:"navbar-brand text-primary fs-3"},{default:a((function(){return[s]})),_:1}),Object(c["n"])("button",l,[b],512),Object(c["n"])("div",d,[Object(c["n"])("ul",p,[(Object(c["F"])(!0),Object(c["j"])(c["b"],null,Object(c["L"])(O.routes,(function(t,n){return Object(c["F"])(),Object(c["j"])("li",{class:"nav-item fs-6 p-2",key:"page_".concat(n),onClick:e[2]||(e[2]=function(){return O.hideNav&&O.hideNav.apply(O,arguments)})},["Cart"===t.name?(Object(c["F"])(),Object(c["j"])("a",{key:0,href:"#",class:["text-white",{activeRoute:O.route.name===t.name}],onClick:e[1]||(e[1]=Object(c["fb"])((function(t){return O.visible=!0}),["prevent"]))},[Object(c["m"])(Object(c["Q"])(t.text)+" ",1),Object(c["n"])("span",f,Object(c["Q"])(O.carts.list.length),1)],2)):(Object(c["F"])(),Object(c["j"])(h,{key:1,to:t.link,class:["text-white",{activeRoute:O.route.name===t.name}]},{default:a((function(){return[Object(c["n"])(y,{icon:t.icon},null,8,["icon"]),Object(c["m"])(" "+Object(c["Q"])(t.text),1)]})),_:2},1032,["to","class"]))])})),128))])])])]),Object(c["n"])(k,{modelValue:O.visible,"onUpdate:modelValue":e[3]||(e[3]=function(t){return O.visible=t}),carts:O.carts,onHiddePopover:O.hiddePopover},null,8,["modelValue","carts","onHiddePopover"]),O.excludedSwiperRoutes.includes(O.route.name)?Object(c["k"])("",!0):(Object(c["F"])(),Object(c["j"])(x,{key:0,slides:O.slides,class:"bg-white carousel pb-5"},null,8,["slides"])),Object(c["n"])("div",j,[Object(c["n"])(w)]),v],64)})),m=n("6c02"),g=(n("b812"),n("f195")),h=Object(c["gb"])("data-v-45e264ee");Object(c["I"])("data-v-45e264ee");var y={class:"d-flex justify-content-between align-items-center mb-4 py-2 border-bottom"},k=Object(c["n"])("h2",{class:"text-gray-300 mb-0"},"購物車",-1),x={key:0},w=Object(c["n"])("p",null,"尚未有門票",-1),C={key:1,class:"list-wrap"},q={class:"px-3 text-start text-white col-6"},_={class:"fs-6 mb-3 text-white"},F={class:"mb-3"},Q={class:"fs-5"},B={class:"border-top"};Object(c["G"])();var N=h((function(t,e,n,a,r,o){var i=Object(c["N"])("font-awesome-icon");return Object(c["F"])(),Object(c["j"])(c["b"],null,[Object(c["eb"])(Object(c["n"])("div",{class:"mask",onClick:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",!1)})},null,512),[[c["Z"],a.dispaly]]),Object(c["n"])("div",{class:["sideBar px-3",{active:a.dispaly}]},[Object(c["n"])("header",y,[Object(c["n"])("button",{type:"button",class:"btn-close btn-close-white","aria-label":"Close",onClick:e[2]||(e[2]=function(e){return t.$emit("update:modelValue",!1)})}),k]),0===a.list.length?(Object(c["F"])(),Object(c["j"])("div",x,[w,Object(c["n"])("a",{href:"#",src:"/shopping/order",class:"btn bg-primary mt-2",onClick:e[3]||(e[3]=Object(c["fb"])((function(e){return t.$emit("hiddePopover","Order")}),["prevent"]))},"訂票去")])):(Object(c["F"])(),Object(c["j"])("ul",C,[(Object(c["F"])(!0),Object(c["j"])(c["b"],null,Object(c["L"])(a.list,(function(t,e){return Object(c["F"])(),Object(c["j"])("li",{key:"item_"+e,class:"list my-4 row"},[Object(c["n"])("div",{class:"col-4 avatar",style:"background-image: url(".concat(t.product.imageUrl,")")},null,4),Object(c["n"])("div",q,[Object(c["n"])("h4",_,Object(c["Q"])(t.product.title),1),Object(c["n"])("div",F,[Object(c["n"])("a",{href:"#",class:["text-white px-2 align-middle fs-5",{disabled:t.qty<=1}],type:"button",onClick:Object(c["fb"])((function(e){return a.changeQty(t,-1)}),["prevent"])},"-",10,["onClick"]),Object(c["eb"])(Object(c["n"])("input",{type:"number","onUpdate:modelValue":function(e){return t.qty=e},min:"0",class:"text-gray-800 text-center fs-5","aria-describedby":"inputGroup-sizing-default"},null,8,["onUpdate:modelValue"]),[[c["Y"],t.qty]]),Object(c["n"])("a",{href:"#",class:"text-white px-2 align-middle fs-5",type:"button",onClick:Object(c["fb"])((function(e){return a.changeQty(t,1)}),["prevent"])},"+",8,["onClick"])]),Object(c["n"])("p",Q,"NT$ "+Object(c["Q"])(t.total),1)]),Object(c["n"])("div",{class:"fs-5 col-2 d-flex justify-content-center align-items-center",onClick:function(e){return a.onDelProductlClick(t)}},[Object(c["n"])(i,{class:"pointer",icon:"trash-alt"})],8,["onClick"])])})),128))])),Object(c["n"])("div",B,[Object(c["n"])("p",null,"合計: "+Object(c["Q"])(a.total),1),Object(c["n"])("button",{class:"w-100 border-0 btn bg-primary",onClick:e[4]||(e[4]=function(e){return t.$emit("hiddePopover","Cart")}),type:"button"}," 檢視購物車 ")])],2)],64)})),S=n("2909"),I=n("e16f"),V=n("61dd"),A={props:{carts:{type:Object,default:function(){}},modelValue:{type:Boolean,default:function(){return!1}}},setup:function(t){var e=Object(c["U"])(t),n=e.modelValue,a=Object(c["J"])([]),r=Object(c["K"])(0),o=Object(c["K"])(!1);Object(c["bb"])(t.carts,(function(t){r.value=t.total,a.length=0,a.push.apply(a,Object(S["a"])(t.list))}),{immediate:!0}),Object(c["bb"])(n,(function(t){o.value=t}));var i=function(t,e){t.qty=t.qty+e;var n={product_id:t.id,qty:t.qty};Object(I["k"])(n).then((function(t){t&&g["a"].emit("product-cart")}))},u=function(t){Object(I["e"])(t.id).then((function(t){t&&(g["a"].emit("product-cart"),V["a"].fire({icon:"success",title:"商品已移除"}))}))};return{total:r,list:a,dispaly:o,changeQty:i,onDelProductlClick:u}}},J=(n("fb9d"),n("d959")),P=n.n(J);const R=P()(A,[["render",N],["__scopeId","data-v-45e264ee"]]);var T=R,E=Object(c["gb"])("data-v-98be0fb4");Object(c["I"])("data-v-98be0fb4");var M={key:0},U={class:" position-absolute bg-white translate-middle top-50 start-50 p-5"};Object(c["G"])();var $=E((function(t,e,n,a,r,o){return a.pictures[a.route.name]?(Object(c["F"])(),Object(c["j"])("div",M,[Object(c["n"])("h2",U,Object(c["Q"])(a.pictures[a.route.name].name),1),Object(c["n"])("img",{src:a.pictures[a.route.name].path,alt:"".concat(a.route.name,"_banner"),style:{height:"300px"},class:"main-banner w-100 img-cover"},null,8,["src","alt"])])):Object(c["k"])("",!0)})),D={name:"MainBanner",props:{slides:{type:Object,require:!0}},setup:function(t){var e=Object(m["c"])(),n=Object(c["J"])([]);return Object(c["bb"])(t.slides,(function(t,e){Object.assign(n,t)}),{immediate:!0}),{pictures:n,route:e}}};n("26f2");const G=P()(D,[["render",$],["__scopeId","data-v-98be0fb4"]]);var H=G,K={name:"Fontend",components:{MainBanner:H,SideBar:T},setup:function(){var t=Object(m["d"])(),e=Object(m["c"])(),a=Object(c["J"])(["ItemDetail","Home","BuyerInfo","Article"]),r=Object(c["J"])({Order:{name:"購票處",path:n("dcab")},Cart:{name:"結帳/付款",path:n("8966")},CommonQuestions:{name:"常見問題 Q&A",path:n("a0e5")},ArticleList:{name:"文章列表",path:n("a0e5")}}),o=Object(c["J"])([{link:"/shopping/home",icon:"home",text:"首頁",name:"Home"},{link:"/shopping/order",icon:"ticket-alt",text:"訂票去",name:"Order"},{link:"/shopping/cart",icon:"shopping-cart",text:"購物車",name:"Cart"},{link:"/shopping/Q&A",icon:"shopping-cart",text:"常見問題",name:"Q&A"},{link:"/login",icon:"ticket-alt",text:"登入後台",name:"Merchant"}]);Object(c["C"])((function(){u(),g["a"].on("product-cart",(function(){return u()}))}));var i=Object(c["J"])({list:[],total:0}),u=function(){Object(I["g"])().then((function(t){if(t){var e=t.data;console.log("cart",i),i.list=e.data.carts,i.total=e.data.final_total}}))},s=Object(c["K"])(!1),l=function(e){s.value=!1,b.value.click(),t.push({name:e})},b=Object(c["K"])(null),d=function(){b.value.click()};return{trigger:b,hideNav:d,route:e,routes:o,slides:r,visible:s,excludedSwiperRoutes:a,hiddePopover:l,carts:i,getCartData:u}}};n("e037");const L=P()(K,[["render",O],["__scopeId","data-v-09530765"]]);e["default"]=L},ab13:function(t,e,n){var c=n("b622"),a=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(c){}}return!1}},acf3:function(t,e,n){},af03:function(t,e,n){var c=n("d039");t.exports=function(t){return c((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b5cd:function(t,e,n){},b812:function(t,e){window.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v11.0"})},function(t,e,n){var c,a=t.getElementsByTagName(e)[0];t.getElementById(n)||(c=t.createElement(e),c.id=n,c.src="https://connect.facebook.net/zh_TW/sdk/xfbml.customerchat.js",a.parentNode.insertBefore(c,a))}(document,"script","facebook-jssdk")},caad:function(t,e,n){"use strict";var c=n("23e7"),a=n("4d64").includes,r=n("44d2");c({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},dcab:function(t,e,n){t.exports=n.p+"img/banner1.bebf6190.jpg"},e037:function(t,e,n){"use strict";n("9784")},e16f:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return j}));n("99af");var c=n("7804"),a="tp27933";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"get",url:"api/".concat(e,"/products/all")})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"get",url:"api/".concat(e,"/products"),params:{page:t}})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"get",url:"api/".concat(e,"/product/").concat(t)})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"post",url:"api/".concat(e,"/cart"),data:{data:t},self_loading:!0})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"put",url:"api/".concat(e,"/cart/").concat(t.product_id),data:{data:t}})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return c["a"].request({method:"get",url:"api/".concat(t,"/cart")})}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"delete",url:"api/".concat(e,"/cart/").concat(t)})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return c["a"].request({method:"delete",url:"api/".concat(t,"/carts")})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"post",url:"api/".concat(e,"/order"),data:{data:t}})}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"get",url:"api/".concat(e,"/order/").concat(t)})}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return c["a"].request({method:"post",url:"api/".concat(e,"/pay/").concat(t)})}},f195:function(t,e,n){"use strict";var c=function(t){return{all:t=t||new Map,on:function(e,n){var c=t.get(e);c?c.push(n):t.set(e,[n])},off:function(e,n){var c=t.get(e);c&&(n?c.splice(c.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var c=t.get(e);c&&c.slice().map((function(t){t(n)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,n)}))}}};e["a"]=c()},fb9d:function(t,e,n){"use strict";n("b5cd")}}]);
//# sourceMappingURL=chunk-166d538b.4eaa3ac8.js.map