{"version":3,"sources":["webpack:///./src/components/Article.vue","webpack:///./src/components/Article.vue?4ba7","webpack:///./src/components/Article.vue?a91a","webpack:///./src/API/MerchantArticle.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/API/Article.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/utils/Mixin.js"],"names":["class","id","dataLoading","currentArtilce","title","dateFormmater","content","href","routeToPage","list","crrentIdx","icon","name","props","ID","type","String","require","requestFrom","setup","article","articleID","newV","oldV","value","console","log","getArticles","getArticle","api","then","res","data","articles","findIndex","el","item","document","getElementById","scrollIntoView","__exports__","render","token","cookie","replace","headers","authorization","user","process","AddArticile","path","service","request","method","url","EditArticile","DeletArticile","GetMArticile","GetArticiles","page","params","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","GetArticile","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","callbackfn","arguments","length","getRandomInt","max","Math","floor","random","fs","da","Date","year","getFullYear","month","getMonth","date","getDate"],"mappings":"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","file":"js/chunk-24a73276.273aa4ed.js","sourcesContent":["<template>\n  <div class=\"spin-wrap\" v-if=\"dataLoading\">\n    <a-spin />\n  </div>\n  <section id=\"top\" v-else>\n    <h3 class=\"fs-2\" >{{ currentArtilce.title }}</h3>\n    <span class=\"fs-5 text-gray-800\">{{ dateFormmater(currentArtilce.title) }}</span>\n    <hr />\n    <p class=\"content\">{{ currentArtilce.content }}</p>\n    <hr />\n    <slot />\n    <div class=\"d-flex justify-content-between pt-4\">\n      <a href=\"#\" class=\"pre text-blue-500\" @click.prevent=\"routeToPage(list[crrentIdx - 1 ])\">\n        <font-awesome-icon icon=\"chevron-left\" />\n        上一篇:\n        <p class=\"nex_text text-truncate\">{{ list[crrentIdx -1 ]?.title }}</p>\n      </a>\n      <a href=\"#\" class=\"nex text-blue-500\"  @click.prevent=\"routeToPage(list[crrentIdx + 1 ])\">\n        下一篇:\n        <p class=\"nex_text text-truncate\">{{ list[crrentIdx + 1]?.title }}</p>\n        <font-awesome-icon icon=\"chevron-right\" />\n      </a>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { reactive, watch, ref, toRefs } from 'vue'\n\nimport { dateFormmater } from '@/utils/Mixin'\n\nimport { GetArticiles, GetArticile } from '@/API/Article'\nimport { GetMArticile } from '@/API/MerchantArticle'\n\nexport default {\n  name: 'Article',\n  props: {\n    ID: {\n      type: String,\n      require: true\n    },\n    requestFrom: {\n      type: String,\n      require: true\n    }\n  },\n  setup (props) {\n    const article = reactive({\n      crrentIdx: 0,\n      currentArtilce: {},\n      list: []\n    })\n    const dataLoading = ref(false)\n    const articleID = ref()\n    watch(props, (newV, oldV) => {\n      dataLoading.value = true\n      console.log(props.ID)\n      articleID.value = props.ID\n      if (props.requestFrom !== 'Merchant') getArticles(articleID.value)\n      getArticle(articleID.value)\n    })\n    watch(articleID, (newV, oldV) => {\n      if (props.requestFrom !== 'Merchant') getArticles(newV)\n      getArticle(newV)\n    })\n    const getArticles = id => {\n      const api = GetArticiles\n      api().then(res => {\n        if (!res) return\n        const data = res.data\n        const { articles } = data\n        article.crrentIdx = articles.findIndex(el => el.id === id)\n        article.list = articles\n      })\n    }\n    // eslint-disable-next-line no-unused-vars\n    const getArticle = id => {\n      dataLoading.value = false\n      const api = props.requestFrom === 'Merchant' ? GetMArticile : GetArticile\n      api(id).then(res => {\n        dataLoading.value = false\n        if (!res) return\n        const data = res.data\n        article.currentArtilce = data.article\n      })\n    }\n    const routeToPage = (item) => {\n      articleID.value = item.id\n      document.getElementById('app').scrollIntoView(0, 0)\n    }\n    return { ...toRefs(article), dataLoading, dateFormmater, routeToPage }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.content\n  letter-spacing: 5px\n  line-height: 2rem\n.pre, .nex\n  display: flex\n  align-items: center\n  flex-direction: row\n  max-width: 120px\n  white-space: nowrap\n.pre_text, .nex_text\n  display: inline-block\n  width: 200px\n</style>\n","import { render } from \"./Article.vue?vue&type=template&id=118e50e8&scoped=true\"\nimport script from \"./Article.vue?vue&type=script&lang=js\"\nexport * from \"./Article.vue?vue&type=script&lang=js\"\n\nimport \"./Article.vue?vue&type=style&index=0&id=118e50e8&lang=sass&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Downloads\\\\vue-RWD-ticket-master\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-118e50e8\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Article.vue?vue&type=style&index=0&id=118e50e8&lang=sass&scoped=true\"","import service from './request.js'\nconst token = document.cookie.replace(\n  /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n  '$1'\n)\nconst headers = { authorization: token }\nconst user = process.env.VUE_APP_PATH\n// 新增文章 api/:api_path/admin/article\nexport function AddArticile (data, path = user) {\n  return service.request({\n    method: 'post',\n    headers,\n    url: `api/${path}/admin/article`,\n    data: { data }\n  })\n}\n// 編輯文章 api/:api_path/admin/article/:id\nexport function EditArticile (data, path = user) {\n  return service.request({\n    method: 'put',\n    headers,\n    url: `api/${path}/admin/article/${data.id}`,\n    data: { data }\n  })\n}\n// 刪除文章 api/:api_path/admin/article/:id\nexport function DeletArticile (ID, path = user) {\n  return service.request({\n    method: 'delete',\n    headers,\n    url: `api/${path}/admin/article/${ID}`\n  })\n}\n// 取得單一文章 api/:api_path/admin/article/:id\nexport function GetMArticile (ID, path = user) {\n  return service.request({\n    method: 'get',\n    headers,\n    url: `api/${path}/admin/article/${ID}`\n  })\n}\n\n// 取得文章列表 api/:api_path/admin/articles?page=:page\nexport function GetArticiles (page, path = user) {\n  return service.request({\n    method: 'get',\n    headers,\n    url: `api/${path}/admin/articles`,\n    params: { page }\n  })\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import service from './request.js'\n\nconst user = process.env.VUE_APP_PATH\n\n// /api/:api_path/articles?page=:page\n\nexport function GetArticiles (path = user) {\n  return service.request({\n    method: 'get',\n    url: `api/${path}/articles`\n  })\n}\n// api/:api_path/article/:id\nexport function GetArticile (ID, path = user) {\n  return service.request({\n    method: 'get',\n    url: `api/${path}/article/${ID}`\n  })\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","export function getRandomInt (max) {\n  return Math.floor(Math.random() * max)\n}\nexport function dateFormmater (fs) {\n  const da = new Date(fs)\n\n  var year = da.getFullYear()\n  var month = da.getMonth() + 1\n  var date = da.getDate()\n  return [year, month, date].join('-')\n}\n"],"sourceRoot":""}